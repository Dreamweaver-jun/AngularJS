<!DOCTYPE html>
<html ng-app="myApp">
<head lang="en">
    <meta charset="UTF-8">
    <title>服务-$filter</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/angular-1.3.0.js"></script>
    <script>
        var myApp = angular.module('myApp',[]);

        myApp.controller('myCtrl',function($scope,age,name,myFactory,myService){
            $scope.name = name;
            $scope.age = age;
            $scope.myFactory = myFactory;

            $scope.text = myService.fn('hello!');
            $scope.today = new Date().getTime();
        });

        myApp.value({'name' : 'xiaoming'});                 //变量，可改变值

        myApp.constant({'age' : '100'});                    //常量，不可改变值

        myApp.factory('myFactory',function(){
                return {
                    msg : 'hello!',
                    setMsg : function(){
                        this.msg = 'hello,world!';
                    }
                }
        });

        myApp.service('myService',function(){
           this.fn = function(input){
               return input.toUpperCase();
           }
        });

        myApp.filter('myFilter',function(){
            return function(input){
                return input + '☺';
            }
        });
    </script>
</head>
<body style="padding: 60px;" ng-controller="myCtrl">
    <h1>{{name}}</h1>
    <hr>
    <h1>{{age}}</h1>
    <hr>
    <h1>{{myFactory.msg}}</h1>
    <hr>
    <h1>{{text}}</h1>
    <hr>
    <h2>{{'TYDIC' | myFilter}}</h2>

    <hr>
    <h3 class="text-primary">{{today | date : 'yyyy-MM-dd  HH:mm:ss'}}</h3>
</body>
</html>
